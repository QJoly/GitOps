version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: ENC[AES256_GCM,data:wcQmRADeqTXKWUnjajFQi+T6fjZXsS8=,iv:wxzWLiq269dfbQu9BeZw/F/Bxamx1rjXcDGQaM3r3n4=,tag:3QHrFUPMHsM47tYeuatonA==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:0vvr7Oypo4L33EtSRCfGC+KMA+e2V0OPIqQpkkHF7CPQhxRS5awBYr3wQ64lmB2StP2y9ntnmclppyE2AsT2Rei0ISjW82hCbLkgJZxEMp0YNup9a4tSCXcgQQvOYLcgPW1G1/QA25RtM+Xy9hWTh//yjxcRNeQtZS2lDNI4+1i4aY3EhQ6mwWc4I3GeVo5VtPZYDL9rF4/eJusHK4MZ4ovHdCoDqjGsoDz0WFWsXTP9idW/GToUrMIRUopU8e6oAaPLWhHAmNHPenLqCSEdiHY+YQiW0G7J1vkIj8AqsHt9ckigd/t1cQx2PDkoIPzEvJip95M5CUUXZ6/vSaK3YQSTpLN7Um2FdnVsQcwzCyExJf6+QTF7KyfJME+W0ER32ujvagpdFEykMl3Jy+k7XiuF4XUv2GrZvv7yYFlSadmtJihGT399yOpxdhCIa/03AG8StW6ZHzJQqvGe+0HT56H90HglAXfdWopxHFtjuvQ1HIYRh8H2a7UPkxgwvaNRS+/2A6RWXEJ5SRkdRo4SaQvfUEn5ltUUAeAGdw4K77uETZo0QguQos39h1gEDov5HYBaTg9On/Ua4lbTrBFSTbGGt3bvS2Bz2Qy1vuutaqp3aaZ59MmvCB67fzOJLlgfKnduZrgsBwkgPHN2gpOBp60cMBnxkCdflHYkYGxHmOjMBm1QHVDyJw+SYmGRO3BCC/H1MWL78m0J2o99KEDYRc5KjKTsbvgbrlrIyCoCnAJ1k7E7gtO12i1iElnfcOfkbdDSsMm5u27H4d3sQEUROwUhASnUd/eQhbUYuQeg7GwbF/vsDglZcLEZvMdsWh0pwlIgdlZCBw0FasfvwWDJ125iFbcGqCanxFfZTLiBRcCLf8ZU,iv:0rMi/AC0/1E7M1jLb6f1CiX9gK5jeqKOG28ILDHy/wE=,tag:11OZilmDN1DIcd3dqoRW7w==,type:str]
        key: ENC[AES256_GCM,data:95PJJSlQlLnzN3tUhfbp/S9Tnq+MXkyxhZXSs0BgJ81I0iOgEGEymwH/MQXlzfjMiphwc5+cONoWVDPCV05rDfMBqK1ucUnP2iEJuuDBn5AouB/hvGVQBQYB83etDBssr8fSTHBuFeQ5izv4BH1cv0oymAdyARiKow5/9+OVJgqjenlEpCYgpHSV3igvbXh+oxvr2y5uDiQizQjOfGf76oIgseI/WDRFkEr0tHePpWzAqVSj,iv:5J0tpHGcgPGgpZYmcHsUQv33Lrs59EYf7aMcmAjqO2c=,tag:U2YbeYqyQkjBCgs7NZI36A==,type:str]
    certSANs:
        - 127.0.0.1
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.28.3
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network: {}
    install:
        disk: /dev/sda
        image: ghcr.io/siderolabs/installer:v1.6.0
        wipe: false
    registries: {}
    features:
        kubePrism:
            enabled: true
            port: 7445
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: ENC[AES256_GCM,data:HVKwaA==,iv:EVTfm+ZR+5NiWkXO8Gtaqk+cs7EHAV5OWD+vwy4NHS8=,tag:OQx2EJehm3JTJgK/QW1fUw==,type:bool]
        diskQuotaSupport: true
        kubernetesTalosAPIAccess:
            # Enable Talos API access from Kubernetes pods.
            enabled: true
            allowedRoles:
                - os:reader
            # The list of Kubernetes namespaces Talos API access is available from.
            allowedKubernetesNamespaces:
                - kube-system
    sysctls:
        #     kernel.domainname: talos.dev
        net.ipv4.ip_forward: "0"
cluster:
    id: GXJ5tPATSHB6Q6MZKmf8kjPi3uipPRLC2sSXw_A6VyM=
    secret: ENC[AES256_GCM,data:2EDmyEY72dVZagSPSOgAOxYKK/UcTdPFKtZH6jm87RS/2xfu7QFg4mmzI+o=,iv:4dyZw9BlyQPpmxtchZUHYxR1asXSM/CDDFJaqFjeZ0A=,tag:M0E2RpzzZbZ67itTHfpG8A==,type:str]
    controlPlane:
        endpoint: https://192.168.128.10:6443
    clusterName: talos
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
        cni:
            # Cilium install manually
            name: none
            #            urls:
            #                - https://raw.githubusercontent.com/qjoly/GitOps/main/talos/integrations/cilium/cilium.yaml
    token: ENC[AES256_GCM,data:1immNidqXnyOP+EJRK3lu6Ra0wO0nks=,iv:jvqh4MEsaKwNEcdVNHLsJ5/4u355mY01jo3AKbj5WHY=,tag:A3+gmbTK8aMRWawCrOcUQA==,type:str]
    secretboxEncryptionSecret: ENC[AES256_GCM,data:gjj/rpAbKqqUuVyD2m/rN6rIbW5k5vNbX7KyPC4sAkNS+U14yF+ITsu+RKM=,iv:AiSmSnThxsg0xD1EJUYVr/3r57WcR9jw0/bFLWpC+f4=,tag:ajZ3YZqIiR7/s2ECmfcp6g==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:y6RVn7P5CLzs7LYXHnsLQyNT0aUDYdHgPTnA0lYeiHJ3gKYa0vRQ7xcnrt2wxhGF2IaJd8MaAezqN1KmeCO+fU2tp9ZH1rncOzBhoRAZ+wTA9DIxQH58lLodUyiMs7vC+im/hLfOlefHVcw6/zXOjeh9/yZR7FbU/1TnZ8LpM9JwVTbyUg71OMWRNCfcXBnbeKHUzN/fF7MSwvIwu7Zue+ufrxhbY3i8+KqFoaVXWtnkL8zrRJWbrj4qkFZigCuKIlo+EnMV+WzBcB8Gzy0eIM90oB6fwXKDs6L7eKnt6jBtrRMplDXVYdDPsmEReMSiftQekwZOe+AnYDF96XiTrIujx2AlPWpCGg3YuI4Ak2nXQX/RICgu7cb2ZZ2VHeUnj4VNwxXSanO/TBU1DZ1zZQ0Rba5tbixH+44C3qfg3tf9qmffqI1mtPQGKVY8x2aLZsNVWFawFCP1+PQb8sej/Md4wvcD5Og2eX2KLM2+AQoSIg5TNLr5Shl0VaJRavGck7vIClBO0XUoetok3r3QH0vMoESWG6Q28E02e1kJlb5Hlt3QfJLPYsmfHiMwxSmdOl469SmBQajZwr5YZGdkZiBETjBiLAR2k9jHkjbJqdKlqjYhvfNf5zyJBMbVQ9xWPyy3yERrpZFAWrb433xz1O3YUwv++YSGFcBJBuGdAx65y/ObeaP2D7V1EwZPNwbn9QYkniXl2nbPcCplhAtY70agFWfaVuyNTf8O1ZXIDjRlB20eM1Lrjwt9hWR5/06upTfDeH2xepz2Ov7pFV+UqJON83Vx0NNdVnr10Az5/hPDleDXiCjR91MHi9M53gP+gQGle3UzffIkxR8hEip8bjGF3mlKtOYYYdZL0hyMbOFbO2x1L/B0w2IzBp6WmvWd3EDR79ccHwOwGLJ19zHVRbkLJjDaEZX30Ig9+14AY/eS0ZOREzt3GtHpxiy5R44OW8NmZYCxI1NwOwMHvntjmcNcuClbBKhtISHqF5laoJxNCx45O59mlDTWsvOYBHFXWvOC00hHqnr38AvS4EpWOP+VwU0WKq/GPVfIwg==,iv:sV+ar8cib76K6fFP2XAtEdNJx2L/6olb2km8qqzECJo=,tag:ZKgIqJLVnKvtp6lpXcs4jA==,type:str]
        key: ENC[AES256_GCM,data:ApGE/EW9AOF4J/oh/braWefTKFQX6yxw2/2SaSiXKkOIBsAtMpTbHAjn9R48SkDz3AZkR+sLiE7ZSqVlD6dK/8t84kZMNwD2bkHjZliMWPtZsFkDVgDYii1fJ+qqo5c+l2nuYTshKd/kQ8B6U8olQZ4FKM2gaHebLsyxpNRcEVCBUGTZkn4hxOBT8gdwxdpNJfb/QpUvn1MUMs6EEjMkRGdQg+CD9OC3Ousw2ZfHMSH3x1PVxBqAPdftkLv0jT51d72lYCNmPgi2dixyjtbmf96T/8I8+TDa5ETn+XxLXIRFzFeLflin+AvZBq+WZmLXjJT4L2Wv1nIyA5lvTQHBu6qTGwoHqe9ZnYd/HAwMoPf+/7yit/nh+MS6/dkm4L2vSHCLIsRTo1nz8qrmZT8dcA==,iv:LuoVNrdVkxtEg2OwiEtvSpKhlhf5ZEhi6quzha5w1Pk=,tag:NHcRF9V+vpByQa24KSjcJA==,type:str]
    aggregatorCA:
        crt: ENC[AES256_GCM,data:7sVzb2Klqq1GweIugyoJ1TcA43e0csieycCi+zsG7SzwtvoEch5mgjYN5QGSNpX6huME6Ni8hw+AYLr+OdVwH8rLtHk9eQ7UEC2cY6GgW6607wtJc2xI8XAbvZGmzZREU6LzhtS+LlrM6Hmvy9Sxf5P8LwFuKtpo0k/MV7OAAcZrRbbR5Q3frjq2YMYHwXIE0s5NiQLsLuXaUDZMKV7EKWcqwlOXAtfAPv5SHVj//Bvnd/uXJRYPuc8ggrHSqBcarWiE3F/n64LH1f1a+x9OGgcmCFWv9IxLFfBP4mF2+3wD2DgKWhYQuDghQe46w5Xu8GKEL+ivNMOmW15F+Dh8PlfmYTg/tVVpNwS2YlNSbwW4lzPaJm77dziiVp3Yhg9flIGN72viKsqaUS9lFTE6FZkN2vASAmoqRpC+sLUs8ZaNemb8RgX+HDXTlKTW8RBcLYbK0HO+T1JcuJFn6+An2dh2x/hZJvu5MinudlVECNX5GpqSoN9FMGtXcTysay6vM9mObMdRas5+FXh/XngEyuuSTrTTc++N9TdRNoAV56DGiDhntFzhSfPUPE71Vzk6YZAbHvaCLOa0RsfzPrxNAkQWURLe/BnNMgCAZydiIp67yXyJvvEjW0xrC9yA4Tl5tpmd/TbhwVw+luZHkEQxJbTNMQaD7INmP8YOJsxsrvpCGEXuQ9986O5/V/INDhT6zhjIFLzPmMZbPipZaQ+lqapwfXpJX4tPnZcKie/U4Uwg9WHXQERVrmxxqZLWUZZdOxWnSBUD87+vJ5rcEj9ddYXIrqIBOoUZO55aKUvESoaA6W+8L4f+ytVokLyq7w01TRyZ5kpxAk6m4RIn0wfWMYAv0YaF6OBloBbKVYeP1TLH82DYGRnbaZ+MYQklrPCTxv2C4tRkexn7YQHjJiM73hUUwe/XfCXA8a0tgtvX6friLZs3vwvaDH6NTc7UYa5G,iv:mwEMk9IfpDU7J+L7FfTCFNDAExrQDzvtQW9IS0ulr8g=,tag:+VeVgvyeOhJSnCTG9Ng0DQ==,type:str]
        key: ENC[AES256_GCM,data:nl2bJAPxzmoRM+PDTQXVqVae27WvdkTDtKizTHMj7QwfuJ46aLpRbHdr2LbrC0VH/mQY7LiVa9MFGnVWwJEFW5qjbEKv8aNCEEN1nrVjtQAlIApSmEyBt4ihEdxJJN23kkwiCXsqSHKcAhO8YJJwFmTfM2m5MDBb+rGluy8H0Bon2PsI1ZdXVuHe2BJb8GbzMhJOhXgPQbhT7voAtfZN+79438Zg2MDp3ZbS+MYytJZR0QFd1G5fUUxFs5Nn00qB0pU4s1v7UU0DWnY4SNawnSD4i8OzoVMy2EshMw2ywAN3tOrGbVEbcLmO8K/op0d9MpH6PTFZMlIETXU2bAD6nSv9VM2HAfboBho4Cc1Pu8eDSz76AeAKcvJTk+jCPLhXndMqxoSnZL8kWU/XyB+1jw==,iv:2/slb8J/Oo0oGmKCDlRPYjgl/MwZ13vMcdmMoiTddd0=,tag:FaKML9aT51AccnUkFLpCVA==,type:str]
    serviceAccount:
        key: ENC[AES256_GCM,data:7OXAOjlbHZKOVG7UMK1dNYzaMF5YdyqViRqqWxd9tLXjgLYvn0SJ1rcCCbQhLYtFO/5bqiH31vNJNfjJprghbbfWH7l6Ln45N/Awjr3ztxd2n2h63MCaKAaDC/2riUAfMC8Ohm2C3BLS3w9XhhjgQYVUiUG/o4oRGU8iJAPgXyzTP6imjMpnW5fxU+4KGshR6t3/FgzQ2/yUX8kpvb0wWvEHM4gETKD8Q3US7S7dOFJAUvjW9P7+H0gseLTRvJdi78HLZIe2bxUlomgvZvD6p9EH2RsbTF7rWqMIYzSYYu1sqmdYqOhQ2A8iktKi5oASACEFCK0ZpBCxRKQCeItT7x0tRdLOm6R1/0C+ZNIfysGIyowDHZVjjylFI//UxuGZ6WzM8Mo5K9pB666OFh6Opw==,iv:nfvGc61NuPN/L6sCVwMCS1h0FJrXJwT3G/mE5wVLDLg=,tag:R7zmr71aFFiIu40+CEYKTA==,type:str]
    apiServer:
        image: registry.k8s.io/kube-apiserver:v1.28.3
        certSANs:
            - 192.168.128.10
            - 127.0.0.1
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        #        admissionControl:
        #            - name: PodSecurity # Name is the name of the admission controller.
        #              # Configuration is an embedded configuration object to be used as the plugin's
        #              configuration:
        #                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
        #                defaults:
        #                    audit: restricted
        #                    audit-version: latest
        #                    enforce: baseline
        #                    enforce-version: latest
        #                    warn: restricted
        #                    warn-version: latest
        #                exemptions:
        #                    namespaces:
        #                        - kube-system
        #                    runtimeClasses: []
        #                    usernames: []
        #                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:v1.28.3
    proxy:
        image: registry.k8s.io/kube-proxy:v1.28.3
        # Disabled for Cilium
        disabled: true
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.28.3
    discovery:
        enabled: false
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: ENC[AES256_GCM,data:3cUkc/q0o0YIIHK51fjJ29kvOBLBVLOWe4fsWpEi6L/RoPC0Fjbj9E8OnCLgiXPlVRHFVL7x5UsNScDRzoRgvwu9LmDgea3LLqZk/n1g2pHnaureZWwuH7tnUYJ6GIlaRtNTEQ4fj+UwMTAvuD7d2NgNk8B1AHNMPwzhteML78dfdOQQH/VTc+JevXTw4aPw3Aayg/soY5Rks6Geg7/RaVPVfpzgM52Wfz1ZKH8cN1nAwAKl6hBnApG04sthBj6uGfrNPqpbyMkgRatm1WPw7enzkSW5gjljlBxwKvXdOBoP6SP32PibjVYKokn5YdHyajnM2SCTDavmdFsZhcScsSHYhd10dP1NFjsUrE/4Km99t3tKGZwATbroQf7G9WpCP7Q6ZoA0AEFG5H6HFWKDV4EQaM7WLtzPWKFAptr9vimoOyMqt7Dl3zIDz15QpbOzHxjONOTHgnWtS85oxJ+NNet9L80JeAIa6oGicDulb1m0yISHxGUGY0yBrKpXmQKfopVRRDg4BSTkp0xb3CA9iUpMxiHBvESKqTJbyvLJ3NJtdxRbVM0GTWkkR+dirJwYvg1vFU6awpu7CikUV9zAfMFQCo0uw6HsWEVlCo5FlsWizvJbNZmGM5qh3qDR5e8xoJHtAGikvvITEqkHs1IEWYnLRnQsnxDUaO9Kn6xeIpl5knt1qJqwqQjKdUnf4l2qRxn2oPhY/sa7emmhZBfagvG3wNdlDvq5sTq8Mn66q9jLR2J4JKOtAiLkge9oqRFXvsfLR7s2nYZFY9X6PDH/aOspzf0FtryJbKBHE6UyOiHOt1CjJp8Q2Jpw6Ae0YRb2gLtEwnRnbBOcKKj0Ijm/Hh/PUhHj6MkAle8/YcceBBgZLobZvhJF9YoTRuSHf52y3+wq+Ek1/zZZovmktnuH/yFqbp8BmUQF1uvPcqCAaGmGt55TaIzl2B4+v+dpHTWhmixL305Pm6Ir8zdbL4n5T8gMg5BMvMI9/SkejroINKpUdIaiq86NdB3eiCVYloum94jcUw==,iv:HtDSRtMFEGIPPifOwHB0BiSdqsSjWids8FJkUE0QBeA=,tag:sRxnZpmgjzkQ7PYKTctDMQ==,type:str]
            key: ENC[AES256_GCM,data:Zu3vSj+bg8W/HBnt46kqc47hXzlg0rlfhu64CrL9NMsxM+hYuJL7UTS5SuWRPie8EYdSJJ8nZp1sTD+39O+t6tmK9WlQjw6k5wPf0n/5Wf1Wd3HoPHrVah5ZMcGAesrH1Pm6kJjEA7gwSPwSVaDSIZ6McJ3M9/plrlFPF/QR2TDjgVCpeh/W2u0owuihGyirD+zqETCpKcbJrvDc8SPMwnj+JtDUUD6ggNqhTFMA4gQIeQU62YOlz1mYgq203bQ+SLgd0w7bF7qMcHfTRiQJTtPI4KErsLhEOXkVIt6eF/uhc9hYOTDNHle4nF2YW58STsDjuwSXE8aSFDBXptK/mymDJROqVP47fvfdrd+BuQAce7XUywHA8JDM/hLMtWFn55Gntm8d9O98qrrWgEPdFg==,iv:GiplABbv2M/vCE1pbq5en3phgp9GQ/bDRfExKZcLGrQ=,tag:FC2Ej4jEW90KIjmZeMdCEQ==,type:str]
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    inlineManifests: []
    #    adminKubeconfig:
    #      certLifetime: 1h0m0s # Admin kubeconfig certificate lifetime (default is 1 year).
    allowSchedulingOnControlPlanes: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age14ysm820ajay8wqslnkjqcewvq4tmeucth3a88qk4a7hl0mnwkfaqmj6xx5
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBnOUd2eDhPU3dxaDVndWw4
            TUNldS9ORTh3OEZZZDF6b1dOdTR3SEQ0S1E4CldrTm1Jckpjd0tza2F6R004aXVq
            Lzl2T0Y2V0dXaTI3RTBGUVdFazFYbmcKLS0tIEcxaGxLVGM3V2FGRFJMNXBYRVdq
            MWtUMVhHUEZrY2ZKYmVKNVNCRG5tQjAK03IKJUNC0JpBBFkaaMLyso4FWT2GhCTp
            wiu7jnCDvLCIDnOWXNnemCmk6uno+90P6pxckFgT0CO2SRisJMwjaA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-12-18T21:29:17Z"
    mac: ENC[AES256_GCM,data:Pna36IeEZjQHGsQzqEHCS28AiRURGGrxDGfiV1ob55a1YmCTl+J1VN2q7Dk6IHpfw+k2JRVWQ2M2jJptF6vdTucO7aj0A7lPmGL7FN+AmR7pjR4UgA9FltQXdV/FPh/jyaeOOPTkwdcZVgnDgcl+lVO8Z5lGWQsSC7VjzOJ3ImQ=,iv:XEAcb1qG/d3q9CGq12uDzLmfosaqgk1VY+9mwFTxUv0=,tag:R7K/ez03IkuBymsc4NBOzA==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
    version: 3.8.1
