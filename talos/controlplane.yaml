version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: ENC[AES256_GCM,data:LHF7xW+CmArkaV4LGiux6klGRDCgJiI=,iv:uWLV8mt2FiGUmLhijer1FNCNxOGkLhgvUeGO+aM1Q5E=,tag:JByKbOm6+U5sjxtCu5OHIA==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:dsW9OkEK48eZRTCWh0QBW/+RwDRLsJN/8NOpziqUV9/86fPjz917GgstIJ948owLftdSaCmLyFAV/tG8dfKII/KyIL1pVK8tGrRKnZcP4TanIXJZO41mLiexoFYpKCYcygWp01ti8hf0z13pZwFg4Ysw4W3k1oJTP2dXbst452w7DMbBs8rpLPbsoIxH0sDQllJ6BJNdYetGwysovhX1YOO9ALZF1TsL8+KiSM8T95W0hJT+kcSX8uqWmwQ3+I/H1A+r2lkkRi52vi5fJ0lXEwRPXfEbSPssv1UyTkE3lkumT7jQShmtEs7HAhAzYI/DhVGfnR61r55FfRJ+7jd/kqSWAwduLg/WDIDG6x/3Qf52LHIjuy98na13V4++1CZRvQfdRcFYtShD26j/DNQqg7uo+LW4BHiH2sktTM+hA5+Q1E4GQ7PMVsKgRLdEG2WCjq6oKe4ted1FG/heFCWZhCU6EVtYwJeMHCBNitsoAjw4kVBhDQdKFkQ0OcTuFKBnuzx3TDe6/IaP4dRH1zNo7l+Njh1mYv6e2U9I1YbZ8Nx9Pv/h6u1XyvRjptqpSYf8f4uUT24kVgbwPH6JTLB+VGFx40DZdkIn/4PQk9vK+B2nt1prpr12Is2wzxb+PAL2PW8Q07MX/fcHyOX6IOo4+FFwceh6YE542R/OiH3vnLPzGdOSQPcBgq++Bjv9lx/YES4sxD6/ZiFBYlscCFibnTQDz7wqrfF9fGU/hIzX8R9E7Rvyk76IHHnE30ByHQcwqUnN4WI1HRvmjIkJqI3IaaatEcTwgkjPwJ3uR2eoKC+h9QN73PjO6NOiUMplPBzAGsgfB9Wjlk2KZxQvaHk2MbwV9xDA/8bsoP0WHaoyPFT7aTYV,iv:dfV1r3yQkjsPEtpwGDxsS8FNdJfHrIure+DvYik7G+w=,tag:suYLX4bbu69jhYxbY6L1Rw==,type:str]
        key: ENC[AES256_GCM,data:L5X09MD4xTHEZ9mkA7c/IXrb+XLIjB7KCNcFQfxYJEWhWFHxoEyJBo/EDYe585FFIqJQ4DkeJQBH4WaaQQodLDr+ruYbConvgX3KrHdExdRUXjzVfsC1+UIW9a+pDQpFL47t178sUq5rI5mp1J5DOUt7bh+GakBIoKHpqzlFeAWzRQbN8DlmHZnvJykOahHBWhJaJKsJese3DjRkrI7/BLMIFUNdmKwsanVUDMPRokDFw5R5,iv:QZAPU8h2aUhNXmVHZ+3bWVH63+7VKpteX2CRNus/Nr0=,tag:pgARFL+RQA7a4B1QuqjgAQ==,type:str]
    certSANs:
        - 127.0.0.1
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.28.3
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network: {}
    install:
        disk: /dev/sda
        image: ghcr.io/siderolabs/installer:v1.6.0
        wipe: false
    registries: {}
    features:
        kubePrism:
            enabled: true
            port: 7445
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: ENC[AES256_GCM,data:Mm0h+A==,iv:DQay+T98vZ8m9WSoxKK+Hah6C3s3Ps9E4DrrSRwOVNY=,tag:kQvDV6f0JPq6paw50b3Kfw==,type:bool]
        diskQuotaSupport: true
        kubernetesTalosAPIAccess:
            # Enable Talos API access from Kubernetes pods.
            enabled: true
            allowedRoles:
                - os:reader
            # The list of Kubernetes namespaces Talos API access is available from.
            allowedKubernetesNamespaces:
                - kube-system
    sysctls:
        #     kernel.domainname: talos.dev
        net.ipv4.ip_forward: "0"
cluster:
    id: GXJ5tPATSHB6Q6MZKmf8kjPi3uipPRLC2sSXw_A6VyM=
    secret: ENC[AES256_GCM,data:YMfPHai3dymRdvkftZzIq03/fAT5GO1hqAVbA2ppxF9w+ZNiKUMhrPq/zCk=,iv:+r25yIBsTM/ipMMTTTTyEvBeGHIXnUW/lPD8Ek75WVw=,tag:NoMFWCVun7j2rgHpeVu38g==,type:str]
    controlPlane:
        endpoint: https://192.168.128.10:6443
    clusterName: talos
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
        cni:
            # Cilium install manually
            name: none
            #            urls:
            #                - https://raw.githubusercontent.com/qjoly/GitOps/main/talos/integrations/cilium/cilium.yaml
    token: ENC[AES256_GCM,data:WoC7fwrikChnXXkMG76ir5Y7iOp/Yi4=,iv:hTK7dHBhe2NIZH8ft6gabLmNT4MC/vurGPlwcfi5zeo=,tag:oX4mcec6xeAvm8pMN2ZwXw==,type:str]
    secretboxEncryptionSecret: ENC[AES256_GCM,data:MbSHBj7aw2VI8c+hamPUCQocGLzmfndsuqoIVf0mD2n4mpcx+iX6kx05StU=,iv:zOeZOxUJL7CRvcu1pFZjpv4WIh4bFMDiVnKdTYyPTHA=,tag:8QVBenXAxbF/zteaPpYGjw==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:D20xxph4aR6jo3NilUsT2pJGhwV3P0ODR9Du0YM6UdH/u7+j5rma1n66elcgrqJwn8RxxMaJBjvVSEYO+YHgyR78V/4GL8p3eD6BMhYl5+3XkyQLqLK4+ctgMANWIQcPz6Kplni/taY6SVaNdnd7OGE31SmWQFrjnabYbGJDkCWxVN422uzecEYxwo00IIkz21RvojjphSpbv2hmEAncCYaPupkrd794xtBc92b0uTsgL6D/3b0xIGKn6oEXFZY3xMcQ+xsn31jTCiEDYB+8C81oJb5caaV2dth++TKEejesinS6SZGq8NAFHxVIqxp0/OY28vmxGW4LN984zRV/VaejMzR8khzoAEjPM+eP2McV77MD+G+jnseeRArOEQvz/OZ6v1wDYuSM3i10hgFW6NtH34+P7q9XSYFIVa7Q9ZSxn3OA2Rbat423KnbOCrZFouQnuzFOedIKO9n74da7hRRJgv3+6slWBPnOD1FAqMHupCt3MF4H3f8uo8alFxvF++fpbOsFUUBSP6Bh1GTSi6OvfG8aVItDRqzftSwAknsWDs6GGHDIxiFo1IJDqhuExi7jBI6DZQhdqFbfUOpkLS6G/C/9PB0vb/9M9Wnf7h9nIE5NbT/oh+Ua1gkjjP7gpykmuOxVguCU/cSXWt2lcBQ/t/uP+REXwPo8siyyGdZfg8wxzT1i85Dp2Krz0idkEOSM4Tpc5CPFRyCmN8H8uVki8/+156WyWD4dN2LVtUlS80Sz3Zns7WVtq1hx6N/Fq/61l3L0Kzem5J0DLip6iFO4vMOnHFQ6s2soZxXR8XkfYchewRQvXkyBACYhtVIuwlN4WEro/q07ohb/McI2HPmiqtmOuVSYps308uuxA1BM6SGeJJ/hPjDgLY4a1gqvEBZMcOuOUwAN9VO3vD9Mx/+iK45/MJ4zhS3IG1sbI1a2IWs72F9yjqadvoWLsC+vBNJ9o/0T2dY7A2uGoajUITQkpj/fNyCtBofyNssPk1ki2gZjub4qnaJWljM0eoHK1wyEH1MmmJlQoavg9gIjTcYYSAJHu2tPdYFsiQ==,iv:EFp22X963+xXuS5egU1WB9eEwvUtt7rp2S1sp4v48UQ=,tag:nhOAGM86iWlc50MnHFDx0A==,type:str]
        key: ENC[AES256_GCM,data:+9iYNZv5X2FubltUd9GU+mrQVpGxcQZUSEaCwNWgoRJPE5w9I0/1YfHdzbzglOqNaipSDmZZIxls5RyetEqOAK8vR62Zc8qBeUIZdxKJEvqp0vCXubWozD0+lq8h5d/gwAZfWYdmRCP2QNu/UBUjdYY0kV6jMvj+uwhPeORc6/b9S1b2XOg1mzeTElEX+m0IJYNIum9yBlStuD2GqniMwzVlgTxSIoFI9Cp23hM63vw1b2gjzTDtfVpFiFcjbvjP4vSTPaFiSssj8nXcj9GNF/RP4oTvVBNVjFLLnuFBEaAIIk0QQRzVdpP+mEbmyRwAW/LnLXlSCeF98V8ze2XNLj6TTRS7pLHwrc02mhWfsh1szRVcS2CPanGXBsRefxFg3+gdKq0kGKOExZOrzSoFzQ==,iv:NKO5MoZw1DPAM7pPCH3Sam3e7hZcOaZ6sYqA+T11XFs=,tag:fBpQ1PE2AqYao8ZM4rtN7g==,type:str]
    aggregatorCA:
        crt: ENC[AES256_GCM,data:Mv96oBcF9ZVjGoh5MT/2/Yqr4fy1syG4FZUHFbmHQ5RrMdVY0YOESUgd+yds1aczzs/vvpEY0pDkikz1StdkqlI90zm8S4lVHhMs9Bb/yLnEbT1WqvjlhvxU4TESvsAX0JJ/2dlx20wP/NOBAl+UhxNecMJ4UWNzHafjRc5g06/nU6XiN65ADpljsLxjKYOC0DDRNzC9hi8pVGvKgpDkzNkpmypYlDgUrPmbU6OVLghPsYziSBB+xrbZ+Q+TF//rH4WETl5w9BArpT0f0OOn+3HBtssA39kGx6n4RlFRAdPyoQPxlyn1RQy8lD50qbHOK7Hw3QtPhbAK54t71O7Hqtk/FbyktC1+vrBwEnNRdf4fzCFh4DIRUYFSdvwlCV5cvnezv9Ip3yj7LsSlFCqVk8jhkI7PPe9wtdXZXPfT7SH/9nAiY20mWxF/gl1fUx0isqV1cUHepNL0PM6XGB3zxH7B07TLc8xH+SRttsBsC1CORxPg4eleXVnjhxPjgyvkLD1WtTPKIhf1qtMcjJ2CqS2VYJxsUuk3oG9cylfqVdYNOPAptDUmtvrUJxilEnMwZIFFbaObFmq2JNcd3bJCyV80aYuBOvQRMONyXKkl9lqxcRGy+uzm1osZd9mH/VUBXoRJdcC2upqsrGWEO5L8c1Yf4RS4+/3G9mQCCGsZJyF5hAN8xNYcmCw5835qt3pnpU+LmZoX940tiAOSuSP7hDKbKF6yLbaQQTk6qn6NPQspbmKYvM+ON7ZBJLpaSeZx6/tBLjF348zzLTFIsJiOvsTUAT7GWDgUUC1VyoBsYlRHWqFCV1vqSru1emNufvg01YgMhDCCONhpd7438tB0ZKe/yrw5eiXC5apoger0mkvQBqAfjoU1S4q5L0cOg1t8++KmOwLVKewRwpOBUiw/phzcp8MsuTswPS8jdj+LpEdX38nX5okufqmPn50k5Z0+,iv:87gdLLIykS+iEFFy9vmtmWWbheZythiT1+szd6p5r1w=,tag:y438XzQh9mVbVt9vdzg+3g==,type:str]
        key: ENC[AES256_GCM,data:p+1UKo4OZGvbaaIdo+6rheNb4vHrnxeeHeklJlAHd340fxV2Nfx90pAvZMGpY9Tg56bM9QZO9lDtHCNReBsZBpk/2xptVzOgAQtUoNeUCfdCpHtnUrvZ/QVHV37YmTV7nC+QxhoxKg6FxYPgGtv1/WLJTVJrT3xxgY2wEssPVieQQ0FgkXGaSCTqTxaAjPWQtN69AlTITysSuaXxXYq3N8x4Xj7o033zbLwqwLWbIsfJ6ZQd9q2XS9VVzw2I8tnAb08dnKj6LkaFTkf/0q9/G7BTdBFauJHKznVCpL23aMKd1TqqreD4eC1ERGqIjwqGVAyWqVVfKq+k6LwC3YS996IYpuTu1B0Jd4CrgpfGKa1z61R7bvfKf5XaExMTxCV9YTBZfiYIxmzVovMUDyJiOw==,iv:6fp7N/piZFeR01ZFHatxePUhHe9kkH6oDqTIlU9S34o=,tag:VzZAn/linulQ7eQTEZCZaA==,type:str]
    serviceAccount:
        key: ENC[AES256_GCM,data:sEknIAFIbEsmr4bn/govVjlxNFY+VC9KYuOHCZJtMlCjjr5LLO5Qf7/ET6CqKKc5Nh5hV+xpo3WoZHdfj2n23DvI7Pqwdt2AHKrq7DMEiM8vDiJ9zjLu7SpGY26Bf7R4lm+9Z4F/9JOrERI1pXaSgEKm3l0oIoUiIuSit206S6mklDg5H3MpRQu9MBQK7W/tREjzlv/NvDbf/4aFE9GIM5qXjswcbqSWgNO+PYOis52s/Eh48IgMGSHluL34UnWSRU34Oyhit+VgGkxXQctIuK5A3sx/BFJo69z/sD8XWdsL5lPldWFkjYrqoQszCGvhdZR2TEcLZ87Ir6aHyiSn3YIexChKNZNSCaXjjxVG9OHwsdzaqJskwYKWy6noID+Eaat9v/qtONejdVKam9/d0w==,iv:WNLuilq6Aa9OzWHfuUkgOfFDsnI/Kradcoz/nAtY/Ug=,tag:bSBIXyPDc29spuo1L20IUQ==,type:str]
    apiServer:
        image: registry.k8s.io/kube-apiserver:v1.28.3
        certSANs:
            - 192.168.128.10
            - 127.0.0.1
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        #        admissionControl:
        #            - name: PodSecurity # Name is the name of the admission controller.
        #              # Configuration is an embedded configuration object to be used as the plugin's
        #              configuration:
        #                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
        #                defaults:
        #                    audit: restricted
        #                    audit-version: latest
        #                    enforce: baseline
        #                    enforce-version: latest
        #                    warn: restricted
        #                    warn-version: latest
        #                exemptions:
        #                    namespaces:
        #                        - kube-system
        #                    runtimeClasses: []
        #                    usernames: []
        #                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:v1.28.3
    proxy:
        image: registry.k8s.io/kube-proxy:v1.28.3
        # Disabled for Cilium
        disabled: true
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.28.3
    discovery:
        enabled: false
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: ENC[AES256_GCM,data:vyRyqK7r7QPtQRZS9nHOO4d7C95Jrs8fc2MRVMAM9FbKWoQ0wR6LzkDIwycgZfAleAdzhff4pPqHZ4xt91FXiOEp1fGR5cD5HC8fHBbI3288UjLWpE0E4qnqNesTZb+2Py53//LyGxCE4VRIQOBTxQH7gkFUbBETaYKkAw9+kheNu4qKM3mlXnthozODiNX+7rkc/Fzd2RKtPN4gli9+Bh1vIgNVaQ5kAxYvm30K0Ql4ZjvLEGfTLcjp8segaC68KJydcEcisCmdezD0irZ/Kd35WwvS2v/yr5z1PcS/0DQBqYpPRYhS1VQeN0OAsCf76jZphMLD8uOZHOZVrEfclneN2VpJlwWMXQ7SQmax0nr/VFNRb/Snz6VmYibvfWi9twX5XRXJrRiI6uvIm9ZJPsyKpQBZdliFLNAc0Hm0fYjZGBnkZa0HJHzIXPY6+/JPj4bUQSl4aunB30SqYYPZ2heeoIARlN9UWVah6xvTeYlJqTUgW6kNvLpLAWKlbTpgIJ8QrWKa+a6iEay/LN1Dj0sUxjtcSVwM5U5PUL6vUHNVBmI0M3aCvSzMpYsaMtR5aRE5k+hfxtBIwBZGULiBphEoHk2SIlZUpLjQe+yzmT5QDBRIU7/FI+V6vw5XsQ+94HUk4YWGsnuVB6QKuhJSyGA2Bqwe+gyQwzp4ODmthECBI99E8tt0XFTuzJRavSZ5stawczbwod43Tt4oxltZg4v3Y3dBaJyvY/p05ynDC5fSDoRWUiPLqfJCrtxQrmUmbF9qPthw0aRVKtCN6W+M43/yZV+LkIUMTdbdWkyqJ59yjLhsm0fph9kNq0LBEhveVtV4SJ1vz5TX3htCn/yJ6QP4fg0mqi9kQhXGhGzVc+vK1u14OstwS34A0HGVNDfRkkfpP1g1xxy8PLnvesi5mUjw1t61hh1UOwfTGpKOQGxcl6S10yBPWSzXTKHGyo3OlUItxyzcgyxATXDyYwmIMSGo7ndRZFPWdlZRfI+2d0NayplEh3JIfCQ9BD2jZlcy4wOcTA==,iv:6AeHLPyum9ICSuIwwvmXWwzslWI5behfMxmMl3l7Bo4=,tag:/dHYVih7PLEwkrKVJKl8kQ==,type:str]
            key: ENC[AES256_GCM,data:AUY6BFvDjnp3U1VhU3latcclgjdVaarMk6ZI4GJNb5wR+FPXT4OvJqU56zg4s9MMxrome3WFtvDoS/DgMficHiPD5lJ40nc6W/W2wcQxroNRB1vXjt+K0MGcKbXC5yAcXytwIDh2DHHTUe5S5ViBhhBN014KwrKGSEcbMBAQo/gmcygchwINEVUhn3syMGjIg1N6COF/+BS0p9YkWBoLdMNohrMWyffRYcjhYeqq3sNlN1W3cug3YPjJIkdi389crV+nmqywx4xKBQgd3wnhLDx4EfPLDo+keKcnbgYCChJFTy8KX1Hdn5RqWgXCVrtdZjRRwkk749Y2yW1H2YY30eGyXvOAHA2DTkFVLL0Ay0Ca6/QwWXmgSQ/Iv9NRjZt8OLsmhB5t7OCAUbO5k7OmDw==,iv:RHGp+qKnEFakO+3+Tdue8xZl0oB3z4YR/ZVFua0+oio=,tag:sf3evUfB1eHaOCAxnbIs0w==,type:str]
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    inlineManifests: []
    #    adminKubeconfig:
    #      certLifetime: 1h0m0s # Admin kubeconfig certificate lifetime (default is 1 year).
    allowSchedulingOnControlPlanes: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age14ysm820ajay8wqslnkjqcewvq4tmeucth3a88qk4a7hl0mnwkfaqmj6xx5
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBxYW1Oa2JaSXc0WDFFbUxC
            R2hFTG5pRU9XT2sxVEJjNDJBM1VPU2prem1FCkJSUU5rTklOK0EzVU13SmZDWVQr
            Nzl4ZVByNXlXbVJBMUhreXdNcDdWeWcKLS0tIDZndDE3UUdUU0orb3pKbDd6STJN
            aW44N3paTlNRQXI1UzVteUVBZkpQR1kKO5bCO5dtM+TM1xPtbuSegZjsffXYGE7d
            z9GhQ6mEvKqYYtFRXoPfDdSTYpuXNc5cgDWZ0104Up8g1jIg1SalNA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-12-18T21:18:33Z"
    mac: ENC[AES256_GCM,data:v1iHv463uHggMNrT3DQNnbafL/DkjLmLFN92mn8OzvZxpuxUC3j1+Tjsq4Hdtho89n1GWgUTokgMqJpeWlGKgJhy1EJ8BV0c3VnGA1JctJ7aY9a9wId7g56gzzSl20swAfUA+E93+igBgGGc79eipt+Ggt3tYt6qUM233ZQY68g=,iv:E20xIisCoqJcDBpkRLfIvvz6qmuDcxE9+/x2IfLxLXk=,tag:PPBkgRglyJb2cRRklMGm8g==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
    version: 3.8.1
