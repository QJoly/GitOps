version: v1alpha1
debug: false
persist: true
machine:
    type: controlplane
    token: ENC[AES256_GCM,data:CppGxBexrbrXCB4RFPAJJbDKFa65+nk=,iv:eafq69KC3KcqS++MvRPoUVv9ylUiaU5CzI9Xp+IVILk=,tag:ALzJoGEpOhbMHjY3zR/3hQ==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:iWq9c5pa1pmONmVLulzAoEC82qfNKkF7Xw17QVD4j45MIfMtrku3TlysklO3kJ04rcTiuoKP4c9pgVX/fY0pA3gxkX3T15zI+8sy8PwPLFAsbHtDb+ZQKkI59JyrBk8V7s6XUks45kKNiYStXKdgzoww0Hl6wdQY374R6UW0E9OuLV+Z+dDlzxIKi1rHqBVO+xL9yrx9aBbNLOatgzonbVVA+nXqaVlJCXxEcm6lTDsn357QLDFYokuylj1Bngq+fJfDiZ1AJ0Z0tjYtzwxSMvwUqyQ1J+xoIPhep3x4kV2VevQmfdHCG0JfXGI/2JwsFn8LT7JlTACDwLfR8OLPORgGV6nJwR27XAF7ekRb3MdLP5ZvPPS8ZO0KMppm17o1Ns+Ur+ABrLR1xM0B6gnhgxk0a0ecsIpZtfKtbX0pjnQTOHuDlCtJEFRfmqdN6e4U6LHnwtboSdcLulu6uIyifnfxCI28pKqeG5m6Pc1vygTuwP4Iv8fqXxgx341rG7SGQZJcfRZbt6WoFwukkvcCtqCifm83W8SUxk21+eibp7FMxbLK8xTxZnkDh4T6fPuYmtg67s2apSSMqtfbNmFR+O8xBSqI6mQDfqiloQ2Sb+vhQSxG/bwP2h7CBuSmx6p6AZWwEASs83LgiE62Wrd090EJMohJHPQFT01pqkt7pTCLcnLXdFv16s8eK/FfW4y4sn42N0Cnv+5KiduGjUf4BsJ02VwcRq3oG9fBC6Mku0uPzSPZPvWbmyp4973krDp5E0SDhyPx2734XYda8ieAc+GG8qBzvSv9N/40VP0cqDdLdl7xzDCuQJaWqx/b6Z/VAAZMjVJ/B8K3L0Jcr2SVsK8RxIqJDH/1n06FbRR/v4dawg60,iv:mcd9QC7l7SXmpVXvfqwojtbv7yDXzf56B6qTiarLWyo=,tag:I2yf5sVyd8Wfn4HucyBEMQ==,type:str]
        key: ENC[AES256_GCM,data:D9ibm6UB2Rj/i+n2sXsZvVUUdmaDOueG/s2sSGw9njjVhQIPSz13ImqjmxbsBpsvHaLxL8FA4Z3q8j7ZeFsMGc3OwgkRrVHNC7WGG0fNvZT/TClsfZzUQFubDw96gQtL92nKkKlMOJjnvCz/WzKfkhXzGFSxG/L2EJsXbVkg3tOQJIV500f1k/yFcbVG5Ko/YqhZyIN7T7ZNYeCfhbncGWN0N9N8RVFLyj1mcpeI4K1N5X1k,iv:X3+pjxr6JzbD0tJo843iLgFW3z98J8jm8JUtvmtS2Hk=,tag:rdZp74a4NR9zHauZHxWI/g==,type:str]
    certSANs:
        - 127.0.0.1
    kubelet:
        image: ghcr.io/siderolabs/kubelet:v1.28.3
        defaultRuntimeSeccompProfileEnabled: true
        disableManifestsDirectory: true
    network: {}
    install:
        disk: /dev/sda
        image: ghcr.io/siderolabs/installer:v1.5.5
        wipe: false
    registries: {}
    features:
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: ENC[AES256_GCM,data:PaBlJw==,iv:MpCVxdMo5hPVlyTk+OL/zwAxv0Gq4mtqyPkI0HjmqnI=,tag:vCMdtu4RPh2HdCqPi7it8Q==,type:bool]
        diskQuotaSupport: true
        kubernetesTalosAPIAccess:
            # Enable Talos API access from Kubernetes pods.
            enabled: true
            allowedRoles:
                - os:reader
            # The list of Kubernetes namespaces Talos API access is available from.
            allowedKubernetesNamespaces:
                - kube-system
    sysctls:
        #     kernel.domainname: talos.dev
        net.ipv4.ip_forward: "0"
cluster:
    id: GXJ5tPATSHB6Q6MZKmf8kjPi3uipPRLC2sSXw_A6VyM=
    secret: ENC[AES256_GCM,data:9R5UzzxL6jHDDDg1nlITZid65soAXmnnoT89T69EQleRIyPeDzupi5bpObA=,iv:/LasctXS3K1NGarWi6tyNV6QwXWsxR+7/aPYVCNaNO4=,tag:mdLL2giBOuTE8wGJIp8qLA==,type:str]
    controlPlane:
        endpoint: https://192.168.128.10:6443
    clusterName: talos
    network:
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/16
        serviceSubnets:
            - 10.96.0.0/12
        cni:
            # Cilium install manually
            name: none
            #            urls:
            #                - https://raw.githubusercontent.com/qjoly/GitOps/main/talos/integrations/cilium/cilium.yaml
    token: ENC[AES256_GCM,data:c8WkOqlU1vXs7N/3XyS47onYUJFd3Lk=,iv:QGE++vvm5CeoRJ95JR7xpVM9qaEvMYnlJCrnegxWynM=,tag:u9/o25uKKnCe04MWBzDH6w==,type:str]
    secretboxEncryptionSecret: ENC[AES256_GCM,data:t8QsopMSY6ruhKabYCafQe1YNr+QjfVK8/rlS3+dlGUHlgyAA89+Z3F1+d8=,iv:/0WCniB2OrXXe991Wx6hB+y3VD0rql0GzvWSyg/9lXk=,tag:c4AIrtTCdSWrZrlxmwHsgA==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:F3a5gkGcENAVn7BC8k9zqh00IRtcCTAhAC6U7KUzj1oR7XvLB5hT05Z2SeRG8xVYvUq5RPnwcgetKRg22d00bWiAQW6tPLb2bzzqekfYeD5vCRgwV/rCZXCNnLEEmW6380pIT2/lqiFN1wOxMUQC/9Bk8m2p9CgfoaTN7KUHoIanL8kdXyICNCKupR9hRW2MedkfulYHZuzuI9BU2Ftsg8KHrwCVCgYU6vGI9jtLWiAl0PY4I9SIrfBn6ltQIKIqsP6kbm8xB6ATs+MeLqxvTVTzjRS/3tk6YKjaiekkx8H1101MHk2F6PR5jxx0kSOgjbSUTDH7Ff3t5maaaFoCEfmaizmROvSJBO6PLRu3GgBDBOqIwEK1ar0ZP/mfOxNH8ORGYO6VfuD6ErRhREpXMQXdJA0fL0Otg6gXGQY3M2I7lR1ILijVMD34vpzGdaFtYB556HTtH2Nb4OrMsdsV2/euo30KU8tVkGhc7rzwxK6Efnhcffh/ISVPgj85biTcWXqlPzfhqJEi51T8zhZTjhKQg4nKNlojunceh1LLUQXvAjI/jYL/ky94liZhNuWuXn3PxsH0joXYYF5YdhKSxTfRDDlnJ+GNriGdB+deY4MWNT0S1KGyc4X2cXoqdl2N14OHOqFf2pnWx3bIGqANsW85LwG10/ATJkP8eZvuRVmJVTq3xln44Wp2xfNwdfngQoA4HCT1D2qn9UBZn0sLAnERz1XRv9qQl5IwywoX68DT8+V4jmVvehQe0ZuH7wFzpwyUrR2xMzIsdWQpB0LRU5nAkPnUWXi9Meu6DH4wOy05ytOLJxvlyK9bSn2j9pbxSmo2hYwl6WKtvQPHa3v3bwPGF7j1AJ5o9B8QqcC3yK0TZyFR2fCkM4HMzijpNBKyz4cvPUmsb/tOAW4zfh64IwT/JqOEkS7fDWlkaz4WMA3L7FfW5pxaQ2P8j3nTyNIuyUYUi03K8OAqhcuZGr5wltl+aYTpQDMUDvlRgSq4MEkmNND1HiFh1kbltdReHHVT5TjUfzA1pam6YEBzST4jX1Lyt0Gm3hrAgOPy4g==,iv:QsjGxIte5CUPMgLQVLm05XC0ZawUzEkQgcnkq493EJo=,tag:q3F6mt3GTkzo4T3O1nujKg==,type:str]
        key: ENC[AES256_GCM,data:wWrMNQvjc4VRifrjhUoy+r0Y4cK/su4ELq1EgO7ptpvP/5btY0fCAKo3XH7d0i0eWGR6RPyn1xs8WpXaVxNApM7RXo+3lUnlAlUzt3bpA4jwQiN5a/4q7dusN5bkPIMIxQi+uQ5tzY7rJuZrkEHMjN5p6SKwTyWIBCdgWO9MzgL6GJ63/1taA/4gmEegwgJWwztYu5rDsP8nREfHzapVg6/lqtRYJUfpz4K9uGsWCb/Y7EKwzLQyiegyeP6w2+1gfNB5J8lVcVFELzzHboP71hsfzBIwRR6/XByYhgMxuWBM9rj+Wda/UaPdlkLSrYQs22Vx0uWGQneOAjb3+N6DnCGCcKIEsUdT5mCBOwVKqHAs8BnuY0eHzhk20R8jH4eYwetZD6QtNZS898/WlWT2Og==,iv:0BvNH6lpUFRXouCTGTTDQtuVf7gSyVD2dZlraqMRTo4=,tag:Qe3Jrs+TL8tn/1hhaHIhug==,type:str]
    aggregatorCA:
        crt: ENC[AES256_GCM,data:+IHx1ZRWvo1uA2hUr28ywr1yXx/tA20rY+sM/vVurOylOYjFh3OdQ9soCL5Fdzy9aZ6ccAp4GVo70/8gHgELtoFVL4GQTeoN14j8AQY0vaYPMzH0UIvdWp3PQcm/HlBjvSQp2F9DD6KTddBsgRg3xfOT1veXyHdj2IHsw9Ar62vAFQZIMAiqGvAp3/7t529TSHHvm6QhgrGGPw2UE6YWc6BQDigzQM34/MwT76yRvkvWUpQMCxqHvh/ssZ/xU0ssBsyxWTNOu2FpSccjlCAlOtwoiztlVcGCHTzqhz6uuhen2TvxVGxoiW6ypGDJUbca6NGw6Y/euYOikdW44m1Dt2fr5NpgNjMH6f0bxyWlyZv4yj8LjaSZsfezdir3fVfNp3iHnSG+uX0yxzKFjFohRb3VBo62NXEnt9h9usVnelI/+UfVbn/mlM364IFt3u2svT/6Mna5NeCCXXXRpwcU7IvbGav7RCQYV2/M/o01SP2HFkYHfKpVQ4F25SxWKE/miEW2polHVZM4JoZtxlI4oo/LI+JtAGwNC32mct0IHhX63s0SoeS+EN1Q3YAxsVMtGux6hIEUcmBNYZ6LsAtspk9SePviM39yhXJ3ayBN+gsb7xI7zg+oyO4phrbbbDNLTaqUg3ppaEpCJVyX6vUzWn6IKxbJDny9PD9wJJHVhAHDK8DPfLPXVTJ8qE54/vCNbRGw4ZSzP8yDXH5i1VKgL0BbDXapzndp2I+AK0wBX1JzhXZyNA5Wl7ZKVREliT5URpq+LhdgnzjaPl7aFVu4lvobFS7URbhx3P+FHUErc05XBcbzNm0zqrM4rapJ+nOKVx8e0YynA4O4CWBHpD7/ChjTshvAreUm2MyAuzfqIZLu/b4K4JFt9k99Tp0/qErbe2xtpK/MBsuR1Q1yo/gbrJw9VYMAY2Wr//MB+OIw52RU999hrUEBL++9OCNkllG8,iv:jeMILAJYTap35DUfWuB4gekG+1zcnTkEWHJT96DRBTM=,tag:ygkoGJ4TookBagO/Z1t3qQ==,type:str]
        key: ENC[AES256_GCM,data:ASY0Upjqa28RNuMb70uHpIKJEkAPRrpKJpIiJYxEQsfX3xVuAdoEq9BRSez4Z94qQsHl8EEkegDgbU04oV0In8H2WrZhxKCTTdSkG21sSYwOnff+mxP2tKMtlBY28IUuTumuz7SmGk/vK8l6cCfP2FIJHJRFRLok3Bf+J5lEGQeSPvodN18wwOmrbxkyMlFjdYJDIV4wDN5qE1ScCTjE7O1TGjGNPqk+aPMKZW7V7Y6lHOpH4fVOwdSStP4oVN7gq1ksbjG5xQPdeURT6Z+s4Nor+1H4rQhAwHUb+2YS0seAhnHLuG8nNsi7PNGrw16YNfNPQIOIK5DUoMbBG3vz3TzNtP4LVJrdV8vFexap+JrRSCTWNElyWfjfBQ5PacjalPIMWcTgXTlW6rwa5ZSVZw==,iv:DzjEUxEjdPFPPdvsFkebTm6q+PozjJJGZQtR3qI9ynY=,tag:ml2AeGnDA5E3eircNE4PzQ==,type:str]
    serviceAccount:
        key: ENC[AES256_GCM,data:4TZpsAou6zG1XWClSuxk6uW/jJ/FtqpE4w/ktumyiRuQDiBC/g2X5Aq0IChTjzexQ0UWq6Lfn+NjrWlNw8NJYquosKsKf2tkYcYNkzcDoIZRMJHG8GPxWcKG9FlSpfz1EYAyIXX9MRK3Fsk93FHurouEL28DY+a1CrEaGRq8exQ5ekKl17RH8X4lhSBrASXIKcg7UfkrQbhcj/QLIJr3DGUj2ECTJb6k1AYVAga+1vNf8XVLFXbl4+JMh+p44nWC8E4Ops9L+9+tMThjlcz3q5R0h/A4oWkRKbFMKbRCDV1D+HqsW/r9ErV66LKcITo7J9ff3Bq47Reza7/zT7DPbE0fnNr/woQB9xbWvuNmde8zKrxeUI+hAaWT8/7QuWpyNEOhR5WvV89dySDb1FUe/w==,iv:KMzayOnEoWjZb5I1h4l9xF9ucxS4vc40utd5i6BxEWI=,tag:lL4JUQF6xiXHDZLrNgGoVQ==,type:str]
    apiServer:
        image: registry.k8s.io/kube-apiserver:v1.28.3
        certSANs:
            - 192.168.128.10
            - 127.0.0.1
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        #        admissionControl:
        #            - name: PodSecurity # Name is the name of the admission controller.
        #              # Configuration is an embedded configuration object to be used as the plugin's
        #              configuration:
        #                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
        #                defaults:
        #                    audit: restricted
        #                    audit-version: latest
        #                    enforce: baseline
        #                    enforce-version: latest
        #                    warn: restricted
        #                    warn-version: latest
        #                exemptions:
        #                    namespaces:
        #                        - kube-system
        #                    runtimeClasses: []
        #                    usernames: []
        #                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    controllerManager:
        image: registry.k8s.io/kube-controller-manager:v1.28.3
    proxy:
        image: registry.k8s.io/kube-proxy:v1.28.3
        # Disabled for Cilium
        disabled: true
    scheduler:
        image: registry.k8s.io/kube-scheduler:v1.28.3
    discovery:
        enabled: false
        registries:
            kubernetes:
                disabled: true
            service: {}
    etcd:
        ca:
            crt: ENC[AES256_GCM,data:0cBiLt2GtrI6BpORPAG23pNxKuXDcueUPQDe0neIoWhwWeE45U65bfJ8jE7zlqKS9yBLfFk6jcZgYhqYlDUssy2Sx/uJQmXQEWgIWxbSoT36jGlFAPUmpfEtnQ2xW3n36GN50mTJBU3gSiaakOfJRcWfrArfTnaV6tKIPXOg1qPTGEIvGMQsvtCrwqZTQOb29phiJWcTa7+M2uad9N1S2+C4PsWMjGZiFBB7uF7JCV96mNmiooFVAqlUh1714bKETjl26nUxXasFC+NhdxIJmlnS5PhdL4ogn3Ye63DrK3WHDZ0yL1pH4C4Vm31FALH6qJktqSA/Q9tthyHIFy5g0lsPjYkS20Cr4QU0HBKFeP2NzuDEf49vFWyHy01XJxEe9e+w41cwyWjgYlBHNfuPwriAnvaSmERtaTtEj/BRFuNg+Q6ZvvfMOUXfkHn68SmVJCVyit+6wfl4GveZQK96Ynee/R3gJXMrnTL/zyPChtBPf/VpBv5p+D3Rrb7BI2rapPxFpuLK1fJ/O8cfQq3I363c33L3nyIYoIhbE5cUk0qzEwWo0/MOQLH3I5eZCLqjPOzTLWBHPoqRqO3UZpjQ7hZv18K6X7w5dnAeuj9M0VNsSWhZFTH7FCOWz9kTNF3vRWNw2wc/HYugnu1WBFplL8yk/JKxswNd6nKtsbcxx5VdcpiaNDLSmP91+dG0usU2L+Ts9a9yo1KVNiBtJQ0s0Ry3ol88PJM/kXrfrnbCYOKfu6/GGRUWhqocmweTyREzDINAd8DV82RWrGJUuZV9Dr34q+RfVanlWnfubFwFTlLjHf2gsFLfOCciE8UV+JBQi5EKjwPRwmIIfsxarfDuWmo2zceILtCMKZbPUET40Z1JKglM8CqAyw75HeHJDd5VrTSKyxfO5qW9ChmmDqGt3o8YpPEpMhRigsZavbwZXoY5wU6HQpUd18FE0xEpy0WN5jQaVoco0X8odCg9N/huCjffFduJxqnN1ZJCxCrfvsYOVd9u9lU6A+Jt1DmJUcjX+IUzBg==,iv:gQwSJRPyToE67Ds6Soe8gGMblgyb674QFuI7BBawLYo=,tag:SmJWguACGYIF+T6O/0cRCw==,type:str]
            key: ENC[AES256_GCM,data:7iH2G7yW1veIrxXqpjZsMHOpxmCGBuvtpSSok5JRAEWpwVgOK0f0W9BeIyRjXn8G1sz/6TG/WWe6wFGk0Mowtqm8gqcNUQTnZTbNPCta/YPnrE/vNH7lUf1SBgApxVOC835x6GMuY4oRQwDDGjiO8itFFy9zrwUwMwvghQjM30wn7XnFe1/ZQUTOLc3VIG/sEUHpo0JsQ7or64fgczAElw/xEE8L47MQai0wwow/rttPJjVsSzrX238iHy22i8aQWK/0kRu7m+F9nFVJS77jtR3iEGztxpGumVZt1I6neZo+AfkjUV4QmjpluBfwEGWxPa+6xWsLchMgTkr4rheMw91ksrQLv8TOcXihC6cq+IFDOSMtRJvmLIkArSS1kX7oVLlnb/NJj/+C1RSxPvEJLA==,iv:phQH7F4GSOXCqwHxLIIOvm1/v5ppzBLKxxitiaZavkY=,tag:F9Nnn7UM6/j3seyxCRjKKQ==,type:str]
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    inlineManifests: []
    #    adminKubeconfig:
    #      certLifetime: 1h0m0s # Admin kubeconfig certificate lifetime (default is 1 year).
    allowSchedulingOnControlPlanes: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age14ysm820ajay8wqslnkjqcewvq4tmeucth3a88qk4a7hl0mnwkfaqmj6xx5
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAycEtrUkIrdERSaFB1cHNh
            K3VNbmEwS2lVaW9GWDFtYWpXZnZFRHBkc1VrCkROd3RnU0d2VzljY0xpZktoMXg5
            cmJPRDBnQnVudlI4bUpMN1I2MFo0TjAKLS0tIHVQeDZxSzVHZjNWSCtVbkdLRzFG
            UG9PSTlWQzdKMEFSM3FlVVdSS1o5bzAK09WOjQOZIG6SfkvyXXCfFaXQN2V0h4Y/
            34PDr59skgTcwsmE5CMVbOmgHsGj/52VFqUadOIfju79NVskfQNObw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-12-07T12:15:43Z"
    mac: ENC[AES256_GCM,data:0t3Qk7OFwzL2hkOzvrbxVepNSybrRZ1UET/u73LiAsmx+GAXpekS9hVgSeVDER+nezsi2sZ3kYseWJYdIoXxeYGjFjxFtHYl1zS/qYgSvuVjK+Y8SsSG3ENF/XQglIB/d2RCQz1+RIeedNO6y/jKKWFzU63y3SIHJcNE/SdM3oc=,iv:NKIlMno/4E6Ot+gjeIzidQ+d5fotBzFN4sQO90PDoeo=,tag:nA7Wcku3C8wl1GPNrxu+gQ==,type:str]
    pgp: []
    encrypted_regex: ((?i)(pass|secret($|[^N])|ca|crt|key|token|^data$|^stringData$))
    version: 3.8.1
